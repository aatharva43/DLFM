Running the simulations using the three-dimensional computational cell model including tension anisotropy

Steps to run the simulation for Fig 5A,B are provided here.

Prerequisites:

Ensure you have the following software installed and linked:

- Abaqus
- Visual Studio
- Intel Parallel Studio XE
(Instructions to find and download the compatible versions of Visual Studio and Intel Fortran and properly link Abaqus with Fortran can be found online.)

Instructions:

1. Download and extract the Fig 5 Simulations folder: After downloading the Fig 5 Simulations folder, extract its contents to a directory of your choice.

2. Open Windows command prompt: Open the Windows command prompt by either opening the Start menu and searching for "cmd" or pressing the Windows key + R, typing "cmd" or "cmd.exe" in the Run command box, and pressing Enter.

3. Navigate to the Fig 5 Simulation folder: Use the command prompt to navigate to the drive and the path where you extracted the Fig 5 Simulations folder. For example:

C:
cd path\to\the\Fig 5 Simulation\folder

4. Run Abaqus simulation: Execute either "CellFiberUMATFrame1.inp" or "CellFiberUMATFrame2.inp" (for first and last frame, respectively) from the command prompt:

abaqus job=CellFiberUMATFrame1 user=CellMatrixModel_06202020TenAnis

The "CellFiberUMATFrame1" file is the input file for the simulation of the cell in Fig 5 in the first frame (uniform fiber network). Please note that the file "CellMatrixModel_06202020TenAnis.for" contains a user subroutine UMAT code, which is based on the theoretical model for defining cell material properties including the effect of tension anisotropy. Each section of the UMAT code is explained with annotations for clarity and ease of understanding.

5. Verify simulation completion: Check the last line in the "CellFiberUMATFrame1.log" file to ensure the Abaqus job "CellFiberUMATFrame1" is completed.

6. Open simulation results in Abaqus: Open the "CellFiberUMATFrame1.odb" file generated by the simulation.

7. Adjust visualization settings to calculate cell force:
- From the Results Tree on the left, navigate to Output Databases > CellFiberUMATFrame1.odb > Instances
- Right-click on the PART-NANOFIBERWIRE-1 and pick Replace
- From the Menu bar, navigate to Tools > Display Group > Create
- For Item, Pick Nodes, and click on Select in viewport.
- Select all the nodes at the upper edge of the fiber network. Then click Replace.
- From the Menu bar, navigate to Report > Field Output
- In the Variable tab, pick Unique Nodal for Position. Then pick SDV74 for mean contractility.- Ensure the deformation scale factor is uniform and set to 1 (From Options > Common > Basic > Deformation Scale Factor).
- Enable the translucency to have the actin fibers plot within the cytoskeleton (From Options > Common > Other > Translucency)

8. Adjust visualization settings to calculate mean contractility:
- From the Results Tree on the left, navigate to Output Databases > CellFiberUMATFrame1.odb > Instances
- Right-click on the PART-CELL-1 and pick Replace
- From the Menu bar, navigate to Report > Field Output
- In the Variable tab, pick Centroid for Position. Then, under "RF: Reaction force", pick RF2.
- Navigate to Setup tab. Put a name for the report file. Make sure to uncheck "Append to file" and click on OK.
- Open the report file.
- Find the total value on the last line of the report file.
- Divide the total value by the total number of cell elements.

8. Adjust visualization settings to calculate max. princ. stress:
- From the Results Tree on the left, navigate to Output Databases > CellFiberUMATFrame1.odb > Instances
- Right-click on the PART-CELL-1 and pick Replace
- From the Menu bar, navigate to Report > Field Output
- In the Variable tab, pick Centroid for Position. Then, under "S:Stress components", pick "Max. Principal".
- Navigate to Setup tab. Put a name for the report file. Make sure to uncheck "Append to file" and click on OK.
- Open the report file.
- Find the total value on the last line of the report file.
- Divide the total value by the total number of cell elements.

Files Included:

- CellFiberUMATFrame1.inp: Abaqus input file for the cell in the first frame.
- CellFiberUMATFrame1.inp: Abaqus input file for the cell in the last frame.
- CellMatrixModel_06202020TenAnis.for: User subroutine UMAT code based on the theoretical model to define cell material properties including the effect of tension anisotropy.
